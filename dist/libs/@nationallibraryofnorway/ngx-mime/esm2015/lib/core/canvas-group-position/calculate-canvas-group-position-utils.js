import { Rect } from '../models/rect';
export const canvasRectFromCriteria = (rotation, criteria, x) => {
    var _a, _b, _c, _d;
    let rect = {};
    const scale = (((_b = (_a = criteria.canvasSource.service) === null || _a === void 0 ? void 0 : _a.service) === null || _b === void 0 ? void 0 : _b.physicalScale)
        ? (_d = (_c = criteria.canvasSource.service) === null || _c === void 0 ? void 0 : _c.service) === null || _d === void 0 ? void 0 : _d.physicalScale
        : 1) * 400;
    if (rotation === 90 || rotation === 270) {
        rect = {
            height: Math.trunc(criteria.canvasSource.width * scale),
            width: Math.trunc(criteria.canvasSource.height * scale),
            x: x,
            y: Math.trunc((criteria.canvasSource.width * scale) / 2) * -1,
        };
    }
    else {
        rect = {
            height: Math.trunc(criteria.canvasSource.height * scale),
            width: Math.trunc(criteria.canvasSource.width * scale),
            x: x,
            y: Math.trunc((criteria.canvasSource.height * scale) / 2) * -1,
        };
    }
    return new Rect(rect);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRlLWNhbnZhcy1ncm91cC1wb3NpdGlvbi11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2NhbnZhcy1ncm91cC1wb3NpdGlvbi9jYWxjdWxhdGUtY2FudmFzLWdyb3VwLXBvc2l0aW9uLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUd0QyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUNwQyxRQUFnQixFQUNoQixRQUFxQyxFQUNyQyxDQUFTLEVBQ1QsRUFBRTs7SUFDRixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7SUFDZCxNQUFNLEtBQUssR0FDVCxDQUFDLENBQUEsTUFBQSxNQUFBLFFBQVEsQ0FBQyxZQUFZLENBQUMsT0FBTywwQ0FBRSxPQUFPLDBDQUFFLGFBQWE7UUFDcEQsQ0FBQyxDQUFDLE1BQUEsTUFBQSxRQUFRLENBQUMsWUFBWSxDQUFDLE9BQU8sMENBQUUsT0FBTywwQ0FBRSxhQUFhO1FBQ3ZELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7SUFFZixJQUFJLFFBQVEsS0FBSyxFQUFFLElBQUksUUFBUSxLQUFLLEdBQUcsRUFBRTtRQUN2QyxJQUFJLEdBQUc7WUFDTCxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDdkQsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3ZELENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDOUQsQ0FBQztLQUNIO1NBQU07UUFDTCxJQUFJLEdBQUc7WUFDTCxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDeEQsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ3RELENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDL0QsQ0FBQztLQUNIO0lBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWN0IH0gZnJvbSAnLi4vbW9kZWxzL3JlY3QnO1xuaW1wb3J0IHsgQ2FudmFzR3JvdXBQb3NpdGlvbkNyaXRlcmlhIH0gZnJvbSAnLi9jYWxjdWxhdGUtY2FudmFzLWdyb3VwLXBvc2l0aW9uLXN0cmF0ZWd5JztcblxuZXhwb3J0IGNvbnN0IGNhbnZhc1JlY3RGcm9tQ3JpdGVyaWEgPSAoXG4gIHJvdGF0aW9uOiBudW1iZXIsXG4gIGNyaXRlcmlhOiBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEsXG4gIHg6IG51bWJlclxuKSA9PiB7XG4gIGxldCByZWN0ID0ge307XG4gIGNvbnN0IHNjYWxlID1cbiAgICAoY3JpdGVyaWEuY2FudmFzU291cmNlLnNlcnZpY2U/LnNlcnZpY2U/LnBoeXNpY2FsU2NhbGVcbiAgICAgID8gY3JpdGVyaWEuY2FudmFzU291cmNlLnNlcnZpY2U/LnNlcnZpY2U/LnBoeXNpY2FsU2NhbGVcbiAgICAgIDogMSkgKiA0MDA7XG5cbiAgaWYgKHJvdGF0aW9uID09PSA5MCB8fCByb3RhdGlvbiA9PT0gMjcwKSB7XG4gICAgcmVjdCA9IHtcbiAgICAgIGhlaWdodDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2Uud2lkdGggKiBzY2FsZSksXG4gICAgICB3aWR0aDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2UuaGVpZ2h0ICogc2NhbGUpLFxuICAgICAgeDogeCxcbiAgICAgIHk6IE1hdGgudHJ1bmMoKGNyaXRlcmlhLmNhbnZhc1NvdXJjZS53aWR0aCAqIHNjYWxlKSAvIDIpICogLTEsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZWN0ID0ge1xuICAgICAgaGVpZ2h0OiBNYXRoLnRydW5jKGNyaXRlcmlhLmNhbnZhc1NvdXJjZS5oZWlnaHQgKiBzY2FsZSksXG4gICAgICB3aWR0aDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2Uud2lkdGggKiBzY2FsZSksXG4gICAgICB4OiB4LFxuICAgICAgeTogTWF0aC50cnVuYygoY3JpdGVyaWEuY2FudmFzU291cmNlLmhlaWdodCAqIHNjYWxlKSAvIDIpICogLTEsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbmV3IFJlY3QocmVjdCk7XG59O1xuIl19